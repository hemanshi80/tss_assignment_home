package com.tss.test;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import com.tss.model.Movie;
import com.tss.model.MovieListFull;

public class MovieTest {
	static Scanner scanner = new Scanner(System.in);
	static List<Movie> movies = new ArrayList<>();
	
	public static void main(String[] args) {
		
		 
		 int maxMovies = 5;
		 
		 
		 while(true) {
			 
			 System.out.println("1. Add Movie");
			 System.out.println("2. Delete Movie");
			 System.out.println("3. Clear All Movie");
			 System.out.println("4. Display All Movie");
			 System.out.println("5. Quit!!");
			 System.out.println("Enter your choice :");
			 int choice = scanner.nextInt();
			
			 switch(choice) {
			 
			 case 1: {
				 addMovies();
				 break;
			 }
			 
			 case 2: {
				 deleteMovies();
				 break;
			 }
			 
			 case 3: {
				 clearAllMovies();
				 break;
			 }
			 
			 case 4: {
				 displayMovies();
				 break;
			 }
			 
			 case 5:{
				 System.out.println("Thanks for Visiting !!");
				 return;
				 
			 }
			 
			 default : {
				 System.out.println("Invalid Choice !!");
			 }
			 }
				 
			 
		 }
	}

	private static void displayMovies() {
		
	}

	private static void clearAllMovies() {
		// TODO Auto-generated method stub
		
	}

	private static void deleteMovies() {
		if(movies.isEmpty()) {
			System.out.println("List is empty!");
			return ;
		}
		
		System.out.println("Enter Movie Id :");
		String id = scanner.nextLine();
		
	}

	private static void addMovies(int maxMovies) throws MovieListFull {
		
		try {
		if (movies.size() == maxMovies) {
			 throw new MovieListFull("List is full! Cannot add more than 5 movies.");
		}
		System.out.print("Enter Movie Name :");
		String movieName = scanner.nextLine();
		
		System.out.println("Enter Movie Genre :");
		String genre = scanner.nextLine();
		
		System.out.println("Enter Release Year :");
		int year = scanner.nextInt();
		
		String id = generateId(movieName,  genre , year);
		
		Movie movie = new Movie(id, genre, year, movieName);
        movies.add(movie);
        System.out.println("Movie added successfully!");	
		}
		
		catch (MovieListFull e) {
	        System.out.println(e.getMessage());
	    }

	private static String generateId(String movieName, String genre, int year) {
		 String id = "";
	        id += movieName.length() >= 2 ? movieName.substring(0, 2) : movieName;
	        id += genre.length() >= 2 ? genre.substring(0, 2) : genre;
	        id += String.valueOf(year).substring(2);
	        return id;
	}
	
	
		
	}
	
	


